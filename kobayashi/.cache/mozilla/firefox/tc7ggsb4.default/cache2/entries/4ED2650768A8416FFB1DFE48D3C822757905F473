var deviceBracket=false;var $body;var state='off';var $scoreBoxes;var $loading;var $textToScore;var $urlToScore;var $printTimeout=false;$(document).ready(function(){$body=$('body');handleResize();$(window).resize(function(){handleResize();});heightMatch();balanceLines();$scoreBoxes=$('#stats .dashboard_box, #stats_footer .dashboard_box').not('#error').not('#loading').not('#starting');$loading=$('#loading');$textToScore=$('#text_to_score');$urlToScore=$('#url_to_score');$('.fancybox').fancybox({helpers:{media:{}}});$(function(){$('a[rel*=leanModal]').leanModal({top:100,overlay:0.8,closeButton:".modal_close"});});$('.fancybox600').fancybox({width:600,height:"auto",autoSize:false,afterShow:function(){inputWidths();},helpers:{media:{}}});$('#density_tabs').tabs({});$('#premium_popup_trigger').fancybox({maxWidth:'600px',height:'80%',openEffect:'none',closeEffect:'none'});$('#stats .dashboard_box, #stats_footer .dashboard_box').each(function(){var that=this;var infoTrigger=$(this).find('i.fa-info');if(infoTrigger.length>0){infoTrigger.click(function(event){event.stopPropagation();$(that).find('p.info').first().slideToggle();});}
if($(that).hasClass('stats_box')){var rollTrigger=$(this).find('h2');if(rollTrigger.length>0){rollTrigger.click(function(event){event.stopPropagation();var rollTriggerIcon=$(that).find('i.fa-chevron-down, i.fa-chevron-up');$(that).children('table, .inner').toggle();if(rollTriggerIcon.hasClass('fa-chevron-down')){rollTriggerIcon.removeClass('fa-chevron-down');rollTriggerIcon.addClass('fa-chevron-up');}else{rollTriggerIcon.addClass('fa-chevron-down');rollTriggerIcon.removeClass('fa-chevron-up');}
saveState();});}}});$('p.forminfo').hover(function(){$('span',this).show();},function(){$('span',this).hide();});$(".tablesorter").tablesorter({widgets:['zebra']});$('.select2').select2({width:'55%'});$('#tags').tagsInput({'height':'auto','width':'auto','interactive':true,'defaultText':'add a tag','delimiter':',','removeWithBackspace':true,'placeholderColor':'#666666'});$(document).tooltip({position:{my:"center top",at:"center bottom+5"},hide:false});});function inputWidths(){$('.url_input').each(function(){var that=this;$('input[type=text],input[type=url],input[type=file]',this).each(function(){$(this).width(100);var parentHeight=$(that).height();var itemWidth=$(this).width();var loop=true;while(loop){itemWidth=itemWidth+1;$(this).width(itemWidth);if($(that).height()>parentHeight){itemWidth=itemWidth-11;loop=false;}
if(itemWidth>1000){loop=false;}}
$(this).width(itemWidth);});});}
function handleResize(){var wi=$(window).width();var landscape=window.orientation?window.orientation=='landscape':true;if(wi<=750){deviceBracket='mobile';}else if(wi<=1000){deviceBracket='tablet';}else if(wi<=1366){deviceBracket='desktop';}else{deviceBracket='wide';}
$body.removeClass('mobileSkin');$body.removeClass('tabletSkin');$body.removeClass('desktopSkin');$body.removeClass('wideSkin');if(deviceBracket=='mobile'){$body.addClass('mobileSkin');}else if(deviceBracket=='tablet'){$body.addClass('tabletSkin');}else if(deviceBracket=='desktop'){$body.addClass('desktopSkin');}else{$body.addClass('wideSkin');}}
function heightMatch(){$('.heightmatchwrap').not(':visible').addClass('tempshow');$('.tempshow').show();var itemsToHeightMatch=['.heightmatch1','.heightmatch2','.heightmatch3'];for(var i=0;i<3;i++){var highestBox=0;$(itemsToHeightMatch[i]).height('auto');if($body.hasClass('mobileSkin')){continue;}
$(itemsToHeightMatch[i]).each(function(){if($(this).height()>highestBox){highestBox=$(this).height();}});$(itemsToHeightMatch[i]).height(highestBox);}
$('.tempshow').hide();$('.tempshow').removeClass('tempshow');}
function balanceLines(){$('.heightmatchwrap').not(':visible').addClass('tempshow');$('.tempshow').show();$('.balance_lines').each(function(){$(this).height('auto');$(this).width('auto');var currentHeight=$(this).height();var thisHeight=currentHeight;var currentWidth=$(this).width();var newWidth=currentWidth;while(thisHeight==currentHeight){var testWidth=newWidth-10;$(this).width(testWidth);thisHeight=$(this).height();if(thisHeight==currentHeight){newWidth=testWidth;}else{break;}}
$(this).width(newWidth);});$('.tempshow').hide();$('.tempshow').removeClass('tempshow');}
function restoreState(){var savedState=Cookies.get('rs-sidebar-state');if(savedState){$('.fa-chevron-up').removeClass('fa-chevron-up').addClass('fa-chevron-down');savedState=JSON.parse(savedState);$('.stats_box').addClass('rolledup');for(var i=0;i<savedState.length;i++){var boxId=savedState[i];$('#'+boxId).removeClass('rolledup');$('#'+boxId+' .fa-chevron-down').removeClass('fa-chevron-down').addClass('fa-chevron-up');}}}
function saveState(){var openedItems=[];$('#stats .dashboard_box, #stats_footer .dashboard_box').each(function(){var rollTrigger=$(this).find('i.fa-chevron-up');if(rollTrigger.length>0){openedItems.push($(this).attr('id'));}});Cookies.set('rs-sidebar-state',JSON.stringify(openedItems),{expires:365});}
$.fn.replaceHtml=function(val){var stack=[];return this.each(function(i,el){var oldEl=el;/*@cc_on // Pure innerHTML is slightly faster in IE
        oldEl.innerHTML = html;
        return oldEl;
        @*/
var newEl=oldEl.cloneNode(false);newEl.innerHTML=val;oldEl.parentNode.replaceChild(newEl,oldEl);stack.push(newEl);}).pushStack(stack);};var wordCountTotal=false;var sentenceCountTotal=false;function populate(data,thisRequest){var result=true;for(var item in data){if(item=='flesch_kincaid_grade_level'){if(typeof rt!=='undefined'){rt('revisions').reverse()[0].score=data[item];}}
if(item=='success'){if(data[item]==false){$('.error').show();}else{$('.error').hide();}}else if(item=='score_id'){$('#rating').attr('data-score-id',data[item]);}else if(item=='keyword_density'){var i=0;var densityShown=false;for(set in data[item]){var densityData='';for(keyword in data[item][set]){densityData+='<tr><td style="width: 75%;">'+data[item][set][keyword]['item']+'</td><td class="tac" style="width: 25%;" title="Used '+data[item][set][keyword]['count']+' times.">'+data[item][set][keyword]['percentage']+'%</td>';if(thisRequest){densityData+='<td class="tac"><a class="imagelink" href="/alert/?url='+escape(thisRequest)+'&keyword='+escape(data[item][set][keyword]['item'])+'&lower='+Math.floor(data[item][set][keyword]['percentage'])+'&upper='+Math.ceil(data[item][set][keyword]['percentage'])+'"><i class="fa fa-bell"></i></a></td>';}
densityData+='</tr>';}
if(densityData.length==0){$('#density_tabs ul.ui-tabs-nav li').eq(i).hide();}else{$('#density_tabs ul.ui-tabs-nav li').eq(i).show();$('#density_table_set'+i).html(densityData);densityShown=true;}
i++;}
if(!densityShown){$('#density_tabs').hide();$('#no_density').show();}else{$('#density_tabs').show();$('#no_density').hide();}}else if((item=='tips_general')||(item=='tips_long_sentences')||(item=='tips_long_words')){if(data[item]){$('#'+item).show();}else{$('#'+item).hide();}}else if(item=='highlighted_text'){$('#highlights_container').show();var highlightText=data[item];if(highlightText==null){highlightText='';}else{highlightText=highlightText.replace(/  /gmi,'&nbsp; ');if(/\n$/.test(highlightText)){highlightText=highlightText+'&nbsp;';}
highlightText=highlightText.replace(/\t/gmi,'<span style="white-space: pre; color: #f00;">\t</span>');}
$('#text_highlight').html(nl2br(highlightText));}else if(item=='word_count'){if(!isNaN(parseFloat(data[item]))){$('#'+item).html(data[item]);wordCountTotal=parseInt(data[item].replace(',',''));}else{$('#'+item).html('-');}
$('#word_count_alert').html('<a class="imagelink" href="/alert/?wcurl='+escape(thisRequest)+'&lower='+(parseInt(data[item].replace(',',''))-100)+'&upper='+(parseInt(data[item].replace(',',''))+100)+'"><i class="fa fa-bell"></i></a>');}else if(item=='sentiment'){$('#raw_sentiment').html(data[item]);}else if(item=='score_item_note'){var scoreNote=data[item];if(scoreNote==''){$('#score_item_note_text').html('');$('#score_item_note').hide();}else{$('#score_item_note_text').html(data[item]);$('#score_item_note').show();}}else if(item=='sentence_count'){if(!isNaN(parseFloat(data[item]))){$('#'+item).html(data[item]);sentenceCountTotal=parseInt(data[item].replace(',',''));}else{$('#'+item).html('-');}}else if($('#'+item)){if(!isNaN(parseFloat(data[item]))){if(data[item]==0){$('#'+item+'_title').attr('class','');}else{$('#'+item+'_title').attr('class',$('#'+item+'_title').attr('data-attr-highlight'));}
$('#'+item).html(data[item]);if(item=='cliche_count'){var clichePercent=(data[item]/ wordCountTotal)*100;if(clichePercent>1){$('#tips_cliche').show();}else{$('#tips_cliche').hide();}}
if(item=='passive_voice_count'){var passivePerCent=(data[item]/ wordCountTotal)*100;if(passivePerCent>2){$('#tips_passive').show();}else{$('#tips_passive').hide();}}}else{$('#'+item).html(data[item]);}}}
postPopulate();var currentScoreItemId=$('#pdf_link').attr('data-score-item-id');if((data.score_item_id!="")&&(data.score_item_id!=currentScoreItemId)){$('#pdf_link').attr('data-score-item-id',data.score_item_id);$('#pdf_link').attr('href','/result/view/'+data.score_item_id+'/?format=pdf');}
state='off';switch_state();}
function postPopulate(){if((!$('#word_count'))||($('#word_count').length==0)||($('#word_count').html()=="")){return;}
var wordCount=parseInt($('#word_count').html().replace(',',''));if((wordCount)&&(wordCount<10000)){$('#stats .fa-search').show();}else{$('#stats .fa-search').hide();}
var sentenceCount=parseInt($('#sentence_count').html().replace(',',''));$('#rating').removeClass().addClass('rating'+$('#rating').html());var compositionItems=["composition_adjective_count","composition_adverb_count","composition_conjunction_count","composition_determiner_count","composition_interjection_count","composition_noun_count","composition_preposition_count","composition_pronoun_count","composition_qualifier_count","composition_verb_count","composition_unknown_count","composition_nonword_count","high_syllable_word_count","long_word_count","adverb_count","cliche_count","passive_voice_count"];for(var compositionItem in compositionItems){var itemTotal=$('#'+compositionItems[compositionItem]).html();if(compositionItems[compositionItem]=='cliche_count'){var clicheWords=0;$('#text_highlight .highlight_cliche').each(function(){clicheWords+=$(this).html().split(" ").length;});itemTotal=clicheWords;}
if(compositionItems[compositionItem]=='passive_voice_count'){itemTotal=itemTotal*2;}
$('#'+compositionItems[compositionItem]+"_percent").html(Math.round(100*(itemTotal / wordCount))+"%");}
var compositionItems=["very_long_sentence_count","long_sentence_count"];for(var compositionItem in compositionItems){var itemTotal=$('#'+compositionItems[compositionItem]).html();$('#'+compositionItems[compositionItem]+"_percent").html(Math.round(100*(itemTotal / sentenceCount))+"%");}
var charts=['tone','gender'];for(chartIndex in charts){$('#'+charts[chartIndex]+'_chart_value').css('width',parseInt($('#'+charts[chartIndex]+'_number').html())+'%');var offset=($('#'+charts[chartIndex]+'_chart_value').width())-($('#'+charts[chartIndex]+'_chart_value .chart-hover').first().width()/ 2)-22;$('#'+charts[chartIndex]+'_chart_value .chart-hover').css('left',offset);}
var sentimentWidth=50;var sentimentOutput=$('#raw_sentiment').html();var sentimentText=$('#raw_sentiment').html().split(' / ');var sentimentTextLength=sentimentText.length;if(sentimentTextLength>1){sentimentOutput='';for(var i=0;i<sentimentTextLength;i++){if(sentimentTextLength==3){if(i==0){sentimentOutput+='Beginning: ';}else if(i==1){sentimentOutput+='Middle: ';}else if(i==2){sentimentOutput+='End: ';}}
sentimentOutput+=sentimentText[i];if((i+1)!=sentimentTextLength){sentimentOutput+='<br>';}
var sentimentWidthAdjustment=10
if(sentimentText[i].indexOf("Neutral")!==-1){sentimentWidthAdjustment=5;}
if(sentimentText[i].indexOf("Positive")!==-1){sentimentWidth=sentimentWidth+sentimentWidthAdjustment;}else if(sentimentText[i].indexOf("Negative")!==-1){sentimentWidth=sentimentWidth-sentimentWidthAdjustment;}}}else{if(sentimentOutput.indexOf("Positive")!==-1){sentimentWidth=65;}else if(sentimentOutput.indexOf("Negative")!==-1){sentimentWidth=35;}}
$('#sentiment').html(sentimentOutput);$('#sentiment_chart_value').css('width',parseInt(sentimentWidth)+'%');var offset=($('#sentiment_chart_value').width())-($('#sentiment_chart_value .chart-hover').first().width()/ 2)-22;$('#sentiment_chart_value .chart-hover').css('left',offset);}
function handleError(arrMessages){$('#error ul li').remove();for(var intMessage in arrMessages){$('#error ul').append('<li>'+arrMessages[intMessage]+'</li>');if(arrMessages[intMessage].indexOf('free usage limit')>-1){$('#premium_popup_trigger').trigger('click');}}
$('#error').slideDown();$('#starting').slideDown();hideLoading();}
function switch_state(){if(state=='on'){showLoading();$scoreBoxes.slideUp();$('#stats_footer').hide();state='off';}else if(state=='off'){hideLoading();$scoreBoxes.slideDown();$('#stats_footer').show();state='on';}
$('.fa-spin').removeClass('fa-spin');}
function showLoading(){$loading.slideDown();$('#download_link').slideUp();$printTimeout=false;scoringComplete=false;}
function hideLoading(){if(scoringComplete){$loading.slideUp();$('#expectation').slideUp();var currentScoreItemId=$('#pdf_link').attr('data-score-item-id');if(currentScoreItemId!=""){$('#download_link').slideDown();$printTimeout=setInterval(function(){var jqxhrKeepalive=$.post('/ajax/keepalive/',{type:'text',score_id:$('#rating').attr('data-score-id'),spamKey:'{{spam_key}}'},function(highlightData,textStatus){if(textStatus=='success'){}else{$('#download_link').slideUp();}},"json").fail(function(xhr,status,error){$('#download_link').slideUp();$printTimeout=false;});},60000);}}}
function nl2br(str,is_xhtml){var breakTag=(is_xhtml||typeof is_xhtml==='undefined')?'<br />':'<br>';return(str+'').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,'$1'+breakTag+'$2');}@|:¶ì¶      Z[.ŸZ[.¡>¡PLZ_>Ü   .    :https://readable.io/scripts/base.min.js?v=042 necko:classified 1 strongly-framed 1 security-info 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 request-method GET response-head HTTP/1.1 200 OK
Server: nginx/1.10.3 (Ubuntu)
Date: Sun, 14 Jan 2018 10:19:12 GMT
Content-Type: application/javascript
Content-Length: 13878
Last-Modified: Thu, 14 Dec 2017 14:35:25 GMT
ETag: "5a328c2d-3636"
Accept-Ranges: bytes
 original-response-headers Server: nginx/1.10.3 (Ubuntu)
Date: Sun, 14 Jan 2018 10:19:12 GMT
Content-Type: application/javascript
Content-Length: 13878
Last-Modified: Thu, 14 Dec 2017 14:35:25 GMT
Connection: keep-alive
ETag: "5a328c2d-3636"
Accept-Ranges: bytes
 uncompressed-len 0 net-response-time-onstart 2193 net-response-time-onstop 2194   66